(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(67),o=n.n(i),s=(n(75),n(2)),c=n.n(s),l=n(9),u=n(4),d=n(5),m=n(7),h=n(6),p=n(8),f=(n(34),n(48)),b=n(69),g=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={video:null,progress:0,stream:null},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({video:document.getElementById("preview-video")});case 2:f.takeSnapShot({webcamVideoElement:this.state.video,keepCameraOn:!0,cameraStream:this.state.stream},function(){var e=Object(l.a)(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,t.setState({stream:n.cameraStream});case 3:console.log("sdfdl");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"captureGIF",value:function(){var e=this;f.createGIF({gifWidth:352,gifHeight:240,keepCameraOn:!0,cameraStream:this.state.stream,numFrames:15,progressCallback:function(t){e.setState({progress:t})},completeCallback:function(){e.setState({progress:0}),console.log("done")}},function(t){t.error||(console.log(t),e.props.saveGIF(t.image))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"video-container",style:{zIndex:100}},r.a.createElement("div",{style:{width:"100px",position:"absolute",bottom:"4rem",left:"50%",transform:"translateX(-50%)"}},r.a.createElement(b.a,{percent:100*this.state.progress,strokeWidth:"10",strokeColor:"#e74c3c"}),r.a.createElement("button",{style:{position:"absolute",left:"50%",transform:"translate(-50%, -50%)",top:"48%",background:"transparent",fontWeight:"bold",color:"white",border:"none",fontSize:"2rem",outline:"none"},onClick:function(){return e.captureGIF()}},"Rec.")),r.a.createElement("video",{className:"video",id:"preview-video"}))}}]),t}(a.Component),v=n(13),y=n.n(v),w=n(14),k=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"submitGIF",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.albumId),e.next=3,y.a.post("https://api.imgur.com/3/image",{image:this.props.gif.split(",")[1]},{headers:{Authorization:"Client-ID "+w.imgur.client_id}});case 3:return n=e.sent,console.log(n),a=n.data.data.deletehash,e.next=8,y.a.post("https://api.imgur.com/3/album/".concat(this.props.albumId,"/add"),{deletehashes:[a]},{headers:{Authorization:"Client-ID "+w.imgur.client_id}});case 8:this.props.exit();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",display:"flex",alignItems:"center",background:"url(".concat(this.props.gif,") no-repeat center center fixed"),backgroundSize:"cover"}},r.a.createElement("button",{style:{position:"absolute",margin:"0 auto",bottom:"4rem",left:"50%",transform:"translateX(-50%)",fontSize:"2rem",color:"white",fontWeight:"bold",background:"#27ae60",borderRadius:"2rem",border:"none",outline:"none",padding:".5rem 2.5rem"},onClick:this.submitGIF.bind(this)},"Submit"),r.a.createElement("button",{style:{position:"absolute",margin:"0 auto",top:"1rem",left:"1rem",backgroundColor:"#e74c3c",outline:"none",border:"none",height:"2rem",width:"2rem",borderRadius:"50%",fontSize:"1rem",color:"white",fontWeight:"bold"},onClick:this.props.exit.bind(this)},"X"))}}]),t}(a.Component),x=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={gif:"http://i.imgur.com/IUNMjf1.gif",capturing:!0},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"setGIF",value:function(e){this.setState({gif:e,capturing:!1})}},{key:"capture",value:function(){this.setState({capturing:!0})}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:"100%"}},this.state.capturing?r.a.createElement(g,{saveGIF:this.setGIF.bind(this),albumId:this.props.albumId}):r.a.createElement(k,{gif:this.state.gif,albumId:this.props.albumId,exit:this.capture.bind(this)}))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={video:null,gifs:[],index:0,progress:0,bpm:60,pingpong:!0},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getGIFs(),setInterval(function(){e.getGIFs()},3e5),setInterval(function(){e.setState({index:Math.floor(e.state.gifs.length*Math.random()),pingpong:Math.random()>=.5})},2e4)}},{key:"getGIFs",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.imgur.com/3/album/".concat(this.props.albumId),{headers:{Authorization:"Client-ID "+w.imgur.client_id}});case 2:t=e.sent,n=t.data.data.images,console.log(n),this.setState({gifs:n});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App",style:{height:"100vh",width:"100vw"}},this.state.gifs.length>0?r.a.createElement("x-gif",{fill:!0,"ping-pong":this.state.pingpong,bpm:this.state.bpm,src:this.state.gifs[this.state.index].link}):r.a.createElement("x-gif",{fill:!0,src:"https://i.imgur.com/IUNMjf1.gif"}),r.a.createElement("button",{style:{position:"absolute",bottom:"2rem",left:"2rem"},onClick:function(){return e.getGIFs()}},"\ud83d\udd04"))}}]),t}(a.Component),S=n(68),j=n.n(S),O=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={captureScreen:!1,hostScreen:!1,albumId:"Xb6wU",deletehash:""},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"createAlbum",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("https://api.imgur.com/3/album",{ids:["IUNMjf1"],title:"test"},{headers:{Authorization:"Client-ID "+w.imgur.client_id}});case 2:t=e.sent,console.log(t.data.data.id),console.log(t.data.data.deletehash),this.setState({albumId:t.data.data.id,deletehash:t.data.data.deletehash,hostScreen:!0});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%",height:"100%",minHeight:"100vh",background:"URL(".concat(j.a,")"),boxSizing:"border-box"}},this.state.captureScreen||this.state.hostScreen?"":r.a.createElement("div",{style:{width:"100%",height:"100%",padding:"4rem 1rem",boxSizing:"border-box"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"20rem",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 0 90px 60px #fff",boxSizing:"border-box"}},r.a.createElement("h1",{style:{color:"#f0932b",fontWeight:"bold",fontSize:"5rem",textAlign:"center",margin:"1rem 0 2rem"}},"Gif Beat"),r.a.createElement("input",{onChange:function(t){return e.setState({albumId:t.target.value})},placeholder:"ID Here...",style:{fontSize:"3rem",borderRadius:".5rem",border:"solid 4px #f0932b",padding:".25rem .5rem",outline:"none"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"1rem 0"}},r.a.createElement("button",{onClick:function(){e.setState({captureScreen:!0})},style:{marginRight:"1rem",fontSize:"2rem",flex:1,background:"#f0932b",padding:"1rem 0",borderRadius:".5rem",border:"none",fontWeight:"bold",color:"white",cursor:"pointer"}},"Join!"),r.a.createElement("button",{onClick:function(){e.setState({hostScreen:!0})},style:{fontSize:"1rem",color:"#f0932b",background:"transparent",outline:"none",border:"none",cursor:"pointer"}},"Re-Host")),r.a.createElement("div",{style:{margin:"0 auto",fontSize:"1.5rem",color:"lightgrey"}}," or "),r.a.createElement("button",{onClick:function(){e.createAlbum()},style:{margin:"1rem 0",fontSize:"1.5rem",fontWeight:"bold",color:"#f0932b",background:"transparent",outline:"none",border:"none",cursor:"pointer"}},"Create Party"))),this.state.captureScreen?r.a.createElement(x,{albumId:this.state.albumId}):"",this.state.hostScreen?r.a.createElement(I,{albumId:this.state.albumId}):"")}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},14:function(e){e.exports={imgur:{client_id:"0fca5e3f716e204"},spotify:{client_id:"13b5cdf138ff45839285509dbc633ba1"}}},34:function(e,t,n){},68:function(e,t,n){e.exports=n.p+"static/media/pattern.4c18f130.svg"},70:function(e,t,n){e.exports=n(138)},75:function(e,t,n){}},[[70,2,1]]]);
//# sourceMappingURL=main.9ed0aa7e.chunk.js.map